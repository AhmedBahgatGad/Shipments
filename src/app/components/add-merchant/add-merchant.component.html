<div class="container vh-100">
  <h1 class="mt-3 mb-4 ms-2">Add Merchant</h1>

  <div class="container rounded-4 p-5 m-auto bg-white shadow">
    <form [formGroup]="merchantForm" (ngSubmit)="handleForm()">
      <div class="row">
        <div class="mb-3 col-md-6">
          <label class="form-label" for="name">Full Name</label>
          <input
            type="text"
            class="form-control"
            id="name"
            formControlName="merchantName"
            #inputMerchantName
            placeholder="Enter Merchant Name"
            name="fullName"
          />
          @if ( merchantForm.get('merchantName')?.errors &&
          (merchantForm.get('merchantName')?.touched ||
          inputMerchantName.value.length > 0) ) {
          <div class="alert alert-danger mt-2">
            @if (merchantForm.get('merchantName')?.getError('required')) {
            <p>Merchant Name Required</p>
            }
          </div>
          }
        </div>

        <div class="mb-3 col-md-6">
          <label class="form-label" for="phone">Phone</label>
          <input
            type="tel"
            class="form-control"
            id="phone"
            formControlName="phone"
            placeholder="Enter Merchant Phone"
            #inputPhone
            name="Phone"
          />
          @if ( merchantForm.get('phone')?.errors &&
          (merchantForm.get('phone')?.touched || inputPhone.value.length > 0) )
          {
          <div class="alert alert-danger mt-2">
            @if (merchantForm.get('phone')?.getError('required')) {
            <p>Merchant Phone Required</p>
            }
          </div>
          }
        </div>

        <div class="mb-3 col-md-6">
          <label class="form-label" for="Email">Email</label>
          <input
            type="email"
            class="form-control"
            id="email"
            formControlName="email"
            placeholder="Enter Employee Email"
            #inputEmail
            name="Email"
          />
          @if ( merchantForm.get('email')?.errors &&
          (merchantForm.get('email')?.touched || inputEmail.value.length > 0) )
          {
          <div class="alert alert-danger mt-2">
            @if (merchantForm.get('email')?.getError('required')) {
            <p>Email Required</p>
            } @if (merchantForm.get('email')?.getError('email')) {
            <p>Email Invalid</p>
            }
          </div>
          }
        </div>

        <div class="mb-3 col-md-6">
          <label class="form-label" for="password">Password</label>
          <input
            type="password"
            class="form-control"
            id="password"
            formControlName="password"
            placeholder="Enter Merchant Password"
            #inputPassword
            name="password"
          />
          @if ( merchantForm.get('password')?.errors &&
          (merchantForm.get('password')?.touched || inputPassword.value.length >
          0) ) {
          <div class="alert alert-danger mt-2">
            @if (merchantForm.get('password')?.getError('required')) {
            <p>Password Required</p>
            }
          </div>
          }
        </div>

        <div class="mb-3 col-md-6">
          <label class="form-label" for="address">Address</label>
          <input
            type="text"
            class="form-control"
            id="address"
            formControlName="address"
            placeholder="Enter Merchant Address"
            #inputAddress
            name="address"
          />
          @if ( merchantForm.get('address')?.errors &&
          (merchantForm.get('address')?.touched || inputAddress.value.length >
          0) ) {
          <div class="alert alert-danger mt-2">
            @if (merchantForm.get('address')?.getError('required')) {
            <p>Address Required</p>
            }
          </div>
          }
        </div>

        <div class="mb-3 col-md-6">
          <label for="branch" class="form-label">Branch :</label>
          <select
            name="branch"
            class="form-select"
            id="branch"
            formControlName="branch"
          >
            @for (branch of branches; track $index) {
            <option [value]="branch">{{ branch }}</option>
            }
          </select>
        </div>

        <!-- <hr /> -->

        <div class="mb-3 col-md-6">
          <label for="governrate" class="form-label">Governrate : </label>
          <select
            name="governrate"
            id="governrate"
            class="form-select"
            formControlName="governrate"
          >
            @for (governrate of governrates; track $index) {
            <option [value]="governrate">{{ governrate }}</option>
            }
          </select>
        </div>

        <div class="mb-3 col-md-6">
          <label for="city" class="form-label">City : </label>
          <select
            name="city"
            id="city"
            class="form-select"
            formControlName="city"
          >
            @for (city of cities; track $index) {
            <option [value]="city">{{ city }}</option>
            }
          </select>
        </div>

        <div class="mb-3 col-md-6">
          <label class="form-label" for="shopname">Shop Name</label>
          <input
            type="text"
            class="form-control"
            id="shopname"
            formControlName="shopName"
            placeholder="Enter Merchant Shop Name"
            #inputShopName
            name="shopname"
          />

          @if ( merchantForm.get('shopName')?.errors &&
          (merchantForm.get('shopName')?.touched || inputShopName.value.length >
          0) ) {
          <div class="alert alert-danger mt-2">
            @if (merchantForm.get('shopName')?.getError('required')) {
            <p>shop name Required</p>
            }
          </div>
          }
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <button class="btn price">
            <a href="./pricepackages">Add Price Packages</a>
          </button>
        </div>
        <div class="col-md-6 d-flex justify-content-end align-items-end">
          <button class="btn merchant">Add Merchant</button>
        </div>
      </div>
    </form>
  </div>
</div>
