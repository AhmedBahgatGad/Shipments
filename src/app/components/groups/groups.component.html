<div class="container-fluid">
  <div>
    <h1 class="mt-3 mb-5">Groups</h1>
  </div>

  <div class="row">
    <div class="col-md-12">
      <label for="gname" class="form-label">Group Name</label>
      <input
        type="text"
        placeholder="New Group"
        id="gname"
        class="form-control mb-3"
        name="newGroup"
        #inputGroup
        formControlName="newGroup"
      />
    </div>

    <div class="col-md-12">
      <label class="form-label" for="permission">Permissions</label>
      <input
        list="permissions"
        placeholder="Choose Permissions"
        id="permission"
        name="permissions"
        class="form-control mb-3"
        onkeydown="return false;"
        autocomplete="off"
        #inputGroup
        formControlName="permissions"
      />
      <datalist id="permissions">
        <option value="All"></option>
        <option value="Reading"></option>
        <option value="Writing"></option>
      </datalist>
    </div>

    <div class="col-md-12 d-flex justify-content-start align-items-end">
      <button class="btn btn-submit">Add Group</button>
    </div>
  </div>

  <div class="d-flex justify-content-between align-items-center my-5">
    <div class="col-md-2">
      <input
        #searchInput
        type="text"
        class="form-control bg-body-light ps-2 w-75"
        placeholder="Search..."
        (input)="filtergroups($event)"
      />
    </div>
    <div class="dropdown">
      <button
        class="btn btn-link dropdown-toggle"
        type="button"
        id="dropdownMenuButton"
        data-bs-toggle="dropdown"
        aria-expanded="false"
      >
        <i
          class="fa-solid fa-circle-chevron-down fa-2xl"
          style="color: #005e87"
        ></i>
      </button>
      <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <li><a class="dropdown-item" href="#" data-value="1">One</a></li>
        <li><a class="dropdown-item" href="#" data-value="2">Two</a></li>
        <li><a class="dropdown-item" href="#" data-value="3">Three</a></li>
      </ul>
    </div>
  </div>

  <div class="mt-3 p-3 container-fluid rounded-4">
    <table class="table table-striped table-fixed">
      <thead class="text-center">
        <tr>
          <th scope="col" class="header left">ID</th>
          <th scope="col" class="header">Group Name</th>
          <th scope="col" class="header">Permissions</th>
          <th scope="col" class="header right">Status</th>
        </tr>
      </thead>
      <tbody class="text-center">
        @for (group of filteredGroups; track $index) {
        <tr>
          <td>{{ group.id }}</td>
          <td>{{ group.name }}</td>
          <td>{{ group.permissions }}</td>
          <td class="d-flex justify-content-around align-items-center">
            <i
              class="fa-solid fa-pen-to-square fa-lg mx-1"
              style="color: var(--secondary-color)"
            ></i>
            <i
              class="fa-solid fa-trash-arrow-up fa-lg mx-1"
              style="color: var(--third-color)"
              (click)="remove(group.id)"
            ></i>
            <i
              class="fa-solid fa-gear fa-lg mx-1"
              style="color: var(--primary-color)"
            ></i>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>
