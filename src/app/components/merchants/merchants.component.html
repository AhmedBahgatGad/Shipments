<div class="container-fluid">
  <div>
    <div class="d-flex justify-content-between align-items-center mt-4">
      <h1>Merchants</h1>

      <p class="btn rounded-3">
        <a href="../addMerchant">Add merchant</a>
      </p>
    </div>
    <div class="col-md-2">
      <input
        #searchInput
        type="text"
        class="form-control bg-body-light ps-2 w-75"
        placeholder="Search..."
        [(ngModel)]="searchTerm"
        (ngModelChange)="filterMerchants()"
      />
    </div>
  </div>
  <div class="tables">
    <table class="table table-striped rounded-5 table-hover">
      <thead class="rounded-5">
        <tr>
          <th class="border-left">ID</th>
          <th>Name</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Shop Name</th>
          <th>Roles</th>
          <th>Status</th>
          <th class="border-right">Setting</th>
        </tr>
      </thead>
      <tbody>
        @for (merchant of filteredMerchants; track $index) {
        @if(merchant.role == "trader"){
          <tr>
            <td>{{ merchant.id }}</td>
            <td>{{ merchant.name }}</td>
            <td>{{ merchant.email }}</td>
            <td>{{ merchant.username }}</td>
            <!-- <td>{{ merchant.Phone }}</td> -->
            <td>{{ merchant.company_name }}</td>
            <td>{{ merchant.role }}</td>
            <td><i class="fa-solid icon icon fa-toggle-on"></i></td>
            <td><i class="fa-solid icon icon fa-pen-to-square" [routerLink]="['/editMerchant/',merchant.id]"></i></td>
          </tr>
        }
        }
      </tbody>
    </table>
  </div>
</div>
