<div>
  <h1 class="mt-3">Governrates</h1>
</div>

<div class="row ms-3">
  <form [formGroup]="governForm" (ngSubmit)="handleForm()">
    <div class="col-md-2">
      <label for="gname" class="form-label">Governrate Name</label>
      <input
        type="text"
        placeholder="New Governrate"
        id="gname"
        class="form-control mb-3"
        name="newGovernrate"
        #inputGovernrate
        formControlName="name"
      />
    </div>

    <div class="col-md-2">
      <label class="form-label" for="stat">Status</label>
      <select
        list="status"
        placeholder="Choose status"
        id="stat"
        name="status"
        class="form-select mb-3"
        #inputGroup
        formControlName="status"
      >
      <option value="1">Available</option>
      <option value="0">UnAvailable</option>
    </select>
    </div>

    <div class="col-md-12 d-flex justify-content-start align-items-end">
      <button class="btn btn-submit">Add Governrate</button>
    </div>
  </form>
</div>

<div class="d-flex justify-content-between align-items-center pt-5 my-5">
  <div class="input-group mt-2">
    <input
    type="text"
    placeholder="Search..."
    [(ngModel)]="searchTerm"
    (ngModelChange)="filterGovernorates()"
    />
  </div>
  <div class="dropdown">
    <button
      class="btn btn-link dropdown-toggle"
      type="button"
      id="dropdownMenuButton"
      data-bs-toggle="dropdown"
      aria-expanded="false"
    >
      <i
        class="fa-solid fa-circle-chevron-down fa-2xl"
        style="color: #005e87"
      ></i>
    </button>
    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <li><a class="dropdown-item" href="#" data-value="1">One</a></li>
      <li><a class="dropdown-item" href="#" data-value="2">Two</a></li>
      <li><a class="dropdown-item" href="#" data-value="3">Three</a></li>
    </ul>
  </div>
</div>

<div class="p-3 mt-3 container-fluid rounded-4">
  <table class="table table-striped table-fixed">
    <thead class="text-center">
      <tr>
        <th scope="col" class="header left">ID</th>
        <th scope="col" class="header">Name</th>
        <th scope="col" class="header">Status</th>
        <th scope="col" class="header right">Setting</th>
      </tr>
    </thead>
    <tbody class="text-center">
      @for (governrate of filteredGoverns ; track $index) {
      <tr>
        <td class="pt-3">
          {{ $index + 1 }}
        </td>
        <td class="pt-3">
          {{ governrate.name }}
        </td>
        <td class="pt-3">
          <i
            class="fa-solid fa-circle-check fa-lg"
            style="color: var(--secondary-color)"
          ></i>
        </td>
        <td>
          <i
            class="fa-solid fa-trash-can fa-lg text-danger"
            (click)="remove(governrate.id)"
          ></i>
        </td>
      </tr>
      }
    </tbody>
  </table>
</div>
